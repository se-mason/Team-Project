<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>iBay - Sign Up</title>
  <link rel="icon" type="image/png" href="../iBay i.png" />
  <link rel="stylesheet" href="../stylesheets/mainstyle.css" />
  <link rel="stylesheet" href="../stylesheets/signup.css" />
  <!--icons, denoted with <i> tag-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <style>
    #postcode {
      text-transform: uppercase;
    }
    #postcode::placeholder {
      text-transform: none;
    }
  </style>
</head>
<body>
  <header>
    <div class="header-left">
      <button class="menu-button" id="menuButton">
        <i class="fas fa-bars"></i>
      </button>
      <a href="home.html" class="logo">
        <img src="../iBay logo.png" alt="iBay">
      </a>
      <!-- Categories Menu -->
      <div class="categories-menu">
        <!-- Menu content will be loaded by menu.js -->
      </div>
    </div>

    <div class="header-center">
      <div class="search-container">
        <input type="text" class="search-bar" placeholder="Search for anything...">
        <button class="search-button">
          <i class="fas fa-search"></i>
        </button>
      </div>
    </div>

    <div class="header-right">
      <div class="account-dropdown">
        <button class="account-btn">
          <i class="fas fa-user"></i>
        </button>
        <div class="dropdown-content">
          <a href="login.html"><i class="fas fa-sign-in-alt"></i> Login</a>
          <a href="user_signup.html"><i class="fas fa-user-plus"></i> Sign Up</a>
          <a href="account.html"><i class="fas fa-user-circle"></i> My Account</a>
          <a href="my_listings.html"><i class="fas fa-list"></i> My Listings</a>
          <a href="#" class="logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</a>
        </div>
      </div>
    </div>
  </header>

  <div class="signup-wrapper">
    <div class="signup-container">
      <h2><i class="fas fa-user-plus"></i> Create Account</h2>
      <form action="php/user_signup.php" method="POST" id="signupForm" novalidate>
        <div class="input-group">
          <i class="fas fa-user"></i>
          <input type="text" name="userId" placeholder="Username" required />
        </div>
        <div class="input-group">
          <i class="fas fa-id-card"></i>
          <input type="text" name="name" placeholder="Full Name" required />
        </div>
        <div class="input-group">
          <i class="fas fa-envelope"></i>
          <input type="email" name="email" placeholder="Email Address" required />
        </div>
        <div class="input-group">
          <i class="fas fa-home"></i>
          <input type="text" name="address" placeholder="Address" required />
        </div>
        <div class="input-group">
          <i class="fas fa-map-marker-alt"></i>
          <input type="text" name="postcode" id="postcode" placeholder="Postcode" required />
        </div>
        <div class="input-group">
          <i class="fas fa-lock"></i>
          <input type="password" name="password" id="password" placeholder="Password" required />
        </div>
        <div class="input-group">
          <i class="fas fa-lock"></i>
          <input type="password" name="confirm_password" id="confirmPassword" placeholder="Confirm Password" required />
          <span class="password-error">Passwords do not match</span>
        </div>
        <input type="submit" value="Create Account" class="signup-btn" />
      </form>
      <div class="form-footer">
        <p>Already have an account? <a href="login.html">Log In</a></p>
        <p><a href="home.html"><i class="fas fa-arrow-left"></i> Return to iBay</a></p>
      </div>
    </div>
  </div>

  <footer class="footer">
    <p class="footer-text">Copyright Â© 2025 iBay Inc. All Rights Reserved.</p>
  </footer>

  <!-- Popup container -->
  <div id="popup" class="popup-overlay"></div>
  
  <!-- Scripts -->
  <script src="../scripts/popup.js"></script>
  <script src="../scripts/navbar_loader.js"></script>
  <script src="../scripts/menu.js"></script>
  <script src="../scripts/menu_loader.js"></script>
  <script src="../scripts/account_dropdown.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('signupForm');
      const password = document.getElementById('password');
      const confirmPassword = document.getElementById('confirmPassword');
      const postcode = document.getElementById('postcode');
      const passwordError = document.querySelector('.password-error');

      // Auto-capitalize postcode
      postcode.addEventListener('input', function() {
        this.value = this.value.toUpperCase();
      });

      // Check passwords match
      function checkPasswords() {
        if (password.value !== confirmPassword.value) {
          passwordError.style.display = 'block';
          return false;
        } else {
          passwordError.style.display = 'none';
          return true;
        }
      }

      // Add event listeners for password fields
      password.addEventListener('input', checkPasswords);
      confirmPassword.addEventListener('input', checkPasswords);

      // Form submission
      form.addEventListener('submit', function(e) {
        if (!checkPasswords()) {
          e.preventDefault();
          return false;
        }
      });
    });
  </script>
</body>
</html>